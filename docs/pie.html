<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
       <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="echarts.js"></script>
       <script type="text/javascript" src="world.json"></script>
       <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
       <script type="text/javascript">
var dom = document.getElementById("container");
var myChart = echarts.init(dom);
var field = ["F24F","F25B","G01R","F04D","A47J","A01D","B65G","H01M","G05B","G01N","others"];
var percent = [184,35,30,28,25,17,17,15,15,12,381];
option = null;


option = {
    toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    saveAsImage : {show: true}
                },
                right : '15%',
                top:'5%',
            },
    series: [
        {
            name:'各领域专利百分比',
            type:'pie',
            radius: ['45%', '70%'],
            avoidLabelOverlap: true,
            label: {
                //normal:{show:false},
                emphasis: {
                    show:true,
                    formatter: '{a|{a}}{abg|}\n{hr|}\n  {b|{b}：}{c|{c}}  {per|{d}%}  ',
                    backgroundColor: '#eee',
                    borderColor: '#aaa',
                    borderWidth: 1,
                    borderRadius: 4,
                    rich: {
                        a: {
                            color: '#334455',
                            lineHeight: 22,
                            align: 'center'
                        },
                        hr: {
                            borderColor: '#aaa',
                            width: '100%',
                            borderWidth: 0.5,
                            height: 0
                        },
                        b: {
                            fontSize: 16,
                            lineHeight: 33,
                            color: '#334455',
                        },
                        c: {
                            fontSize: 16,
                            lineHeight: 33,
                            color: '#334455',
                        },
                        per: {
                            color: '#eee',
                            backgroundColor: '#334455',
                            padding: [2, 4],
                            borderRadius: 2
                        }
                    }
                }
            },
            labelLine: {
                normal: {
                    show: true,
                    length:20
                }
            },
            data:(function(){
             var res=[];
             for (var i=0;i<(percent.length);i++){
                res.push({value:percent[i],name:field[i]});
             }
             return res;
             })(),//构造data，value：percent，name：field
             color:['#003366','#006699','#0099CC','#336699','#6699CC','#87CEEB','#B0E0E6','#4A708B','#7EC0EE','#B0E2FF','#4682B4']
            
        }
    ]
};

if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
       </script>
   </body>
</html>